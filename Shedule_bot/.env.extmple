# === Бот ===
BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN

# Часовой пояс для форматирования времени/дат (IANA)
TIMEZONE=Europe/Berlin

# Группа по умолчанию (опционально, как в шапке листа)
DEFAULT_GROUP=

# === Парсер ===
# schema — использовать YAML-схему (рекомендуется)
# grid   — fallback по заголовкам CSV (не нужен при Sheets-провайдере)
PARSER_MODE=schema
SCHEMA_PATH=src/schedule/parser/schemas/physf_bachelor_fall_2025.yaml

# === Источник данных ===
# sheets — читать напрямую из Google Sheets API (через сервисный аккаунт)
# csv    — читать CSV по экспорт-URL (fallback/отладка)
DATA_PROVIDER=sheets

# --- Google Sheets (для DATA_PROVIDER=sheets) ---
# Ключ таблицы из URL: https://docs.google.com/spreadsheets/d/<SPREADSHEET_KEY>/edit
SPREADSHEET_KEY=
# Индекс листа (0 — первый)
WORKSHEET_INDEX=0
# Путь к JSON сервисного аккаунта (файл должен существовать)
GSPREAD_CREDENTIALS_FILE=google-credentials.json

# --- CSV (для DATA_PROVIDER=csv) ---
# Пример: https://docs.google.com/spreadsheets/d/<KEY>/export?format=csv&gid=<GID>
SHEET_CSV_URL=

# === Кэши (TTL в секундах) ===
# L1: кэш провайдера (grid/CSV); L2: нормализованные данные; L3: выборки (дата/группа)
CSV_TTL_SEC=60
PARSED_TTL_SEC=60
SELECTION_TTL_SEC=20

# === HTTP/Ретраи (общие настройки) ===
HTTP_TIMEOUT=10.0
HTTP_RETRIES=3
HTTP_BACKOFF=0.5
USER_AGENT=schedule-bot/1.0
